features:
- e2e-tests-datadog

test: "e2e"

test_filter: "opentelemetry::logs::"

runner:
  env:
    OTEL_COLLECTOR_SINK_PORT: '5318'
    OTEL_COLLECTOR_SOURCE_PORT: '4318'
    VECTOR_API_PORT: '8686'

# Only trigger this integration test if relevant OTEL source/sink files change
paths:
  - "src/sources/opentelemetry/**"
  - "src/sinks/opentelemetry/**"
  - "src/internal_events/opentelemetry_*"
  - "src/common/opentelemetry.rs"
  - "pront/otel/vector/otel-to-otel-logs.yaml"
  - "pront/otel/otel/collector-sink.yaml"
  - "pront/otel/otel/collector-source.yaml"
  - "pront/otel/docker-compose.yaml"
  - "tests/e2e/opentelemetry/logs/**"
  - "scripts/e2e/opentelemetry-logs/**"
