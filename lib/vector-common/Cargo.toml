[package]
name = "vector-common"
version = "0.1.0"
authors = ["Vector Contributors <vector@datadoghq.com>"]
edition = "2021"
publish = false
license = "MPL-2.0"

[features]
default = [
  "btreemap",
  "conversion",
  "tokenize",
  "encoding",
  "sensitive_string"
]

btreemap = []

byte_size_of = ["dep:bytes"]

conversion = [
  "dep:bytes",
]

encoding = [
  "btreemap"
]

sensitive_string = []

test = []

tokenize = []

[dependencies]
async-stream = "0.3.6"
bytes = { version = "1.10.1", default-features = false, optional = true }
chrono.workspace = true
crossbeam-utils.workspace = true
derivative.workspace = true
futures.workspace = true
indexmap.workspace = true
metrics.workspace = true
paste.workspace = true
pin-project.workspace = true
serde.workspace = true
serde_json.workspace = true
smallvec = { version = "1", default-features = false }
stream-cancel = { version = "0.8.2", default-features = false }
tokio = { workspace = true, features = ["macros", "time"] }
tracing.workspace = true
vrl.workspace = true
vector-config = { path = "../vector-config" }

[dev-dependencies]
futures = { version = "0.3.31", default-features = false, features = ["async-await"] }
tokio = { workspace = true, features = ["rt", "time"] }
