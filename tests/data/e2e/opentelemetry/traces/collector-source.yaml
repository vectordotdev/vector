receivers:
  otlp:
    protocols:
      http:
        endpoint: "0.0.0.0:4318"
      grpc:

processors:
  batch: { }

exporters:
  otlp/grpc:
    endpoint: vector:4317
    tls:
      insecure: true
  otlphttp/vector:
    endpoint: http://vector:4318
    tls:
      insecure: true
  debug: { }
  file:
    path: /output/opentelemetry-traces/collector-source-file-exporter.log
    rotation:
      max_megabytes: 10
      max_days: 1

service:
  pipelines:
    traces:
      receivers: [ otlp ]
      processors: [ batch ]
      exporters: [ debug, otlp/grpc, otlphttp/vector, file ]
