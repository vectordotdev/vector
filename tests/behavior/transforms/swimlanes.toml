[transforms.foo]
  inputs = ["ignored"]
  type = "swimlanes"
  [transforms.foo.lanes.first]
    type = "check_fields"
    "message.eq" = "test swimlane 1"
  [transforms.foo.lanes.second]
    type = "check_fields"
    "message.eq" = "test swimlane 2"

[transforms.bar]
  inputs = ["foo.first"]
  type = "add_fields"
  [transforms.bar.fields]
    new_field = "new field added"

[[tests]]
  name = "swimlanes test 1"

  [tests.input]
    insert_at = "foo"
    value = "test swimlane 1"

  [[tests.outputs]]
    extract_from = "foo.first"
    [[tests.outputs.conditions]]
      type = "check_fields"
      "message.equals" = "test swimlane 1"

  [[tests.outputs]]
    extract_from = "bar"
    [[tests.outputs.conditions]]
      type = "check_fields"
      "message.equals" = "test swimlane 1"
      "new_field.equals" = "new field added"

[[tests]]
  name = "swimlanes test 2"

  [tests.input]
    insert_at = "foo"
    value = "test swimlane 2"

  [[tests.outputs]]
    extract_from = "foo.second"
    [[tests.outputs.conditions]]
      type = "check_fields"
      "message.equals" = "test swimlane 2"